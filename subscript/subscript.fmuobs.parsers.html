<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>subscript.fmuobs.parsers &mdash; subscript 0.17.2.dev10+g372b1e93 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=03d3df8f"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="subscript.fmuobs.util" href="subscript.fmuobs.util.html" />
    <link rel="prev" title="subscript.fmuobs.fmuobs" href="subscript.fmuobs.fmuobs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            subscript
              <img src="../_static/equinor-logo2.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.17.2.dev10+g372b1e93
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Scripts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripts/bjobsusers.html">BJOBSUSERS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/casegen_upcars.html">CASEGEN_UPCARS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/check_swatinit.html">CHECK_SWATINIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/co2_containment.html">CO2_CONTAINMENT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/convert_grid_format.html">CONVERT_GRID_FORMAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/csv2ofmvol.html">CSV2OFMVOL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/csv_merge.html">CSV_MERGE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/csv_stack.html">CSV_STACK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/eclcompress.html">ECLCOMPRESS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/ecldiff2roff.html">ECLDIFF2ROFF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/fmu_copy_revision.html">FMU_COPY_REVISION</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/fmuobs.html">FMUOBS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/interp_relperm.html">INTERP_RELPERM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/merge_rft_ertobs.html">MERGE_RFT_ERTOBS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/ofmvol2csv.html">OFMVOL2CSV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/pack_sim.html">PACK_SIM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/params2csv.html">PARAMS2CSV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/presentvalue.html">PRESENTVALUE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/prtvol2csv.html">PRTVOL2CSV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/restartthinner.html">RESTARTTHINNER</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/ri_wellmod.html">RI_WELLMOD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/rmsecl_volumetrics.html">RMSECL_VOLUMETRICS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/runeclipse.html">RUNECLIPSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/runrms.html">RUNRMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/sector2fluxnum.html">SECTOR2FLUXNUM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/summaryplot.html">SUMMARYPLOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/sunsch.html">SUNSCH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/sw_model_utilities.html">SW_MODEL_UTILITIES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/vfp2csv.html">VFP2CSV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/welltest_dpds.html">WELLTEST_DPDS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="subscript.html"><code class="docutils literal notranslate"><span class="pre">subscript</span></code></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="subscript.html#subscript.getLogger"><code class="docutils literal notranslate"><span class="pre">getLogger()</span></code></a></li>
<li class="toctree-l2 current"><a class="reference internal" href="subscript.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="subscript.bjobsusers.html"><code class="docutils literal notranslate"><span class="pre">subscript.bjobsusers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.casegen_upcars.html"><code class="docutils literal notranslate"><span class="pre">subscript.casegen_upcars</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.check_swatinit.html"><code class="docutils literal notranslate"><span class="pre">subscript.check_swatinit</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.co2_containment.html"><code class="docutils literal notranslate"><span class="pre">subscript.co2_containment</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.convert_grid_format.html"><code class="docutils literal notranslate"><span class="pre">subscript.convert_grid_format</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.csv2ofmvol.html"><code class="docutils literal notranslate"><span class="pre">subscript.csv2ofmvol</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.csv_merge.html"><code class="docutils literal notranslate"><span class="pre">subscript.csv_merge</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.csv_stack.html"><code class="docutils literal notranslate"><span class="pre">subscript.csv_stack</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.eclcompress.html"><code class="docutils literal notranslate"><span class="pre">subscript.eclcompress</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.ecldiff2roff.html"><code class="docutils literal notranslate"><span class="pre">subscript.ecldiff2roff</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.fmu_copy_revision.html"><code class="docutils literal notranslate"><span class="pre">subscript.fmu_copy_revision</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="subscript.fmuobs.html"><code class="docutils literal notranslate"><span class="pre">subscript.fmuobs</span></code></a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="subscript.fmuobs.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="subscript.hook_implementations.html"><code class="docutils literal notranslate"><span class="pre">subscript.hook_implementations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.interp_relperm.html"><code class="docutils literal notranslate"><span class="pre">subscript.interp_relperm</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.merge_rft_ertobs.html"><code class="docutils literal notranslate"><span class="pre">subscript.merge_rft_ertobs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.ofmvol2csv.html"><code class="docutils literal notranslate"><span class="pre">subscript.ofmvol2csv</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.pack_sim.html"><code class="docutils literal notranslate"><span class="pre">subscript.pack_sim</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.params2csv.html"><code class="docutils literal notranslate"><span class="pre">subscript.params2csv</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.presentvalue.html"><code class="docutils literal notranslate"><span class="pre">subscript.presentvalue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.prtvol2csv.html"><code class="docutils literal notranslate"><span class="pre">subscript.prtvol2csv</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.restartthinner.html"><code class="docutils literal notranslate"><span class="pre">subscript.restartthinner</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.ri_wellmod.html"><code class="docutils literal notranslate"><span class="pre">subscript.ri_wellmod</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.rmsecl_volumetrics.html"><code class="docutils literal notranslate"><span class="pre">subscript.rmsecl_volumetrics</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.runrms.html"><code class="docutils literal notranslate"><span class="pre">subscript.runrms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.sector2fluxnum.html"><code class="docutils literal notranslate"><span class="pre">subscript.sector2fluxnum</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.summaryplot.html"><code class="docutils literal notranslate"><span class="pre">subscript.summaryplot</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.sunsch.html"><code class="docutils literal notranslate"><span class="pre">subscript.sunsch</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.sw_model_utilities.html"><code class="docutils literal notranslate"><span class="pre">subscript.sw_model_utilities</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.version.html"><code class="docutils literal notranslate"><span class="pre">subscript.version</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.vfp2csv.html"><code class="docutils literal notranslate"><span class="pre">subscript.vfp2csv</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="subscript.welltest_dpds.html"><code class="docutils literal notranslate"><span class="pre">subscript.welltest_dpds</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">subscript</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="subscript.html"><code class="docutils literal notranslate"><span class="pre">subscript</span></code></a></li>
          <li class="breadcrumb-item"><a href="subscript.fmuobs.html"><code class="docutils literal notranslate"><span class="pre">subscript.fmuobs</span></code></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">subscript.fmuobs.parsers</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/subscript/subscript.fmuobs.parsers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-subscript.fmuobs.parsers">
<span id="subscript-fmuobs-parsers"></span><h1><code class="docutils literal notranslate"><span class="pre">subscript.fmuobs.parsers</span></code><a class="headerlink" href="#module-subscript.fmuobs.parsers" title="Permalink to this heading"></a></h1>
<p>Module for parsing and writing ERT observation files into/from an
equivalent DataFrame representation</p>
<dl class="py data">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.INCLUDE_RE">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">INCLUDE_RE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('\\s*(include\\s+[\\&quot;\']*)([\\w\\s\\.\\-_]+)([\\&quot;\']*[\\s]*;)')</span></em><a class="headerlink" href="#subscript.fmuobs.parsers.INCLUDE_RE" title="Permalink to this definition"></a></dt>
<dd><p>Regular expression for capturing include statements in input file</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.OBS_ARGS_RE">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">OBS_ARGS_RE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('[\\s]*([\\nA-Za-z:/=_\\+\\-\\.,0-9\\s]*)[\\s]*(\\{[A-Za-z=0-9\\+\\.,_;/\\s]*\\})?[\\s]*;[\\s]*')</span></em><a class="headerlink" href="#subscript.fmuobs.parsers.OBS_ARGS_RE" title="Permalink to this definition"></a></dt>
<dd><p>Regular expression for splitting observation arguments into a
key-values element, and a curly-braces element. The curly braces
can not be nested.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.blockdictlist2df">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">blockdictlist2df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blocklist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.blockdictlist2df" title="Permalink to this definition"></a></dt>
<dd><p>Parse a list structure (subpart of yaml syntax) of block observations
into  dataframe format</p>
<p>The internal dataframe format uses “LABEL” and “OBS” as unique keys
for individual observations. These are constructed if not present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blocklist</strong> (<em>list</em>) – List of dictionaries with block/rft observations</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.compute_date_from_days">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">compute_date_from_days</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.compute_date_from_days" title="Permalink to this definition"></a></dt>
<dd><p>Fill in DATE cells in a dataframe computed from
a given starttime and data in DAYS cells.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dframe</strong> (<em>pd.DataFrame</em>) – Any dataframe with a floating point column named DAYS</p></li>
<li><p><strong>starttime</strong> (<em>str</em>) – If provided, DAYS data will be interpreted relative
to this starttime, and converted to DATE.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame. DATE column is always of type datetime64</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.ertobs2df">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">ertobs2df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.ertobs2df" title="Permalink to this definition"></a></dt>
<dd><p>Parse a string with ERT observations and convert into
the internal dataframe format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_str</strong> (<em>str</em>) – String in ERT observation syntax. Newlines and
comments are allowed.</p></li>
<li><p><strong>cwd</strong> (<em>str</em>) – Path to what should be used as current working directory
when resolving include statements (for include files). Defaults
to current directory, but the ERT observation format assumes
it is the directory of the ERT config file.</p></li>
<li><p><strong>starttime</strong> (<em>str</em>) – If provided, DAYS data will be interpreted relative
to this starttime, and converted to DATE.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame. The DATE column is always of type datetime64</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.expand_includes">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">expand_includes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.expand_includes" title="Permalink to this definition"></a></dt>
<dd><p>Look for include ‘filename.txt’; in the string, and replace
it with the contents of that file. Filenames need not be quoted,
but semicolons (and most other special characters) in filenames
will not be resolved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_str</strong> (<em>str</em>) – String with potential include-statements.</p></li>
<li><p><strong>cwd</strong> (<em>str</em>) – Path to what should be used as current working directory
when resolving include statements (for include files). Defaults
to current directory, but the ERT observation format assumes
it is the directory of the ERT config file.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.filter_comments">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">filter_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'--'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.filter_comments" title="Permalink to this definition"></a></dt>
<dd><p>Strip comments from a multiline string.</p>
<p>If the comment_identifier, defaults to “–” is found, the remainder
of the line is stripped. Empty lines are also dropped (being the
result of comment stripping or not).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_str</strong> (<em>str</em>) – String to strip comments from</p></li>
<li><p><strong>comment_identifier</strong> (<em>str</em>) – Character sequence that marks the rest
of the line as a comment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String with newlines where there are no comments, and
with no empty lines.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.fix_dtype">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">fix_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.fix_dtype" title="Permalink to this definition"></a></dt>
<dd><p>Guess the correct datatype for an incoming value.</p>
<p>If parseable as float, return as integer if it is, return float if not.
If parseable as an ERT date (DD/MM/YYYY), return as datetime.date.</p>
<p>If not, return as string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – Object of any type given it has a string representation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>int, float, datetime.date or string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.flatten_observation_unit">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">flatten_observation_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsunit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subunit_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'obs_sub_id'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.flatten_observation_unit" title="Permalink to this definition"></a></dt>
<dd><p>Flatten/unroll a observation unit represented as a nested dict, return
as a list of dicts.</p>
<p>Example (written as in the ascii observation format):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">FIELD</span><span class="o">=</span><span class="n">PRESSURE</span><span class="p">;</span> <span class="n">OBS</span> <span class="n">P1</span> <span class="p">{</span><span class="n">I</span><span class="o">=</span><span class="mi">1</span><span class="p">;};</span> <span class="n">OBS</span> <span class="n">P2</span> <span class="p">{</span><span class="n">I</span><span class="o">=</span><span class="mi">3</span><span class="p">;}}</span>
</pre></div>
</div>
<p>will be returned as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">{</span><span class="s1">&#39;OBS&#39;</span><span class="p">:</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span> <span class="s1">&#39;PRESSURE&#39;</span><span class="p">,</span> <span class="s1">&#39;I=1&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="s1">&#39;OBS&#39;</span><span class="p">:</span> <span class="s1">&#39;P2&#39;</span><span class="p">,</span> <span class="s1">&#39;FIELD&#39;</span><span class="p">:</span> <span class="s1">&#39;PRESSURE&#39;</span><span class="p">,</span> <span class="s1">&#39;I=3&#39;</span><span class="p">}]</span>
</pre></div>
</div>
<p>If there are overlapping key-names at each nesting level, the
lower nesting level wins, relevant for SEGMENT_START syntax.</p>
<p>If there is no nested dict, a list of length 1 is returned.</p>
<p>If the string “SEGMENT” (case-sensititive) is found,
this is a special case where we need to inject a “default”
segment in addition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">ERROR</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="n">SEGMENT</span> <span class="n">S1</span> <span class="p">{</span> <span class="n">START</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span> <span class="n">END</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span> <span class="n">ERROR</span><span class="o">=</span><span class="mi">5</span><span class="p">;};};</span>
</pre></div>
</div>
<p>gives two elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">{</span><span class="s1">&#39;SEGMENT&#39;</span><span class="p">:</span> <span class="s1">&#39;DEFAULT&#39;</span><span class="p">,</span> <span class="s1">&#39;ERROR&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
  <span class="p">{</span><span class="s1">&#39;SEGMENT&#39;</span><span class="p">:</span> <span class="s1">&#39;S1&#39;</span><span class="p">,</span>  <span class="s1">&#39;START&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;END&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;ERROR&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span> <span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obsunit</strong> (<em>dict</em>) – Dictionary describing the contents of an observation.
(nb: it does not hold the observation type or observation id). If
there are “observation subunits”, then this dict is nested.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of non-nested dictionaries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.mask_curly_braces">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">mask_curly_braces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_char</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'X'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.mask_curly_braces" title="Permalink to this definition"></a></dt>
<dd><p>In order to support nested curly braces, a regular expression
cannot be used to do the outermost “split-by-semicolon” operation.</p>
<p>Instead we mask away the curly braces, so that all semicolons occuring
in the string are at the outermost level - then we can split the
unmasked string by the semicolon position in the masked string.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.obsdict2df">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">obsdict2df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsdict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.obsdict2df" title="Permalink to this definition"></a></dt>
<dd><p>Convert an observation dictionary (with YAML file format structure)
into the internal dataframe representation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obsdict</strong> (<em>dict</em>) – Dictionary of observations. Top level keys are “smry”
and/or “rft”, pointing to list of dictionaries.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.parse_observation_unit">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">parse_observation_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsunit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.parse_observation_unit" title="Permalink to this definition"></a></dt>
<dd><p>Parse one observation, with all its arguments. The string should
be the content of the curly braces after one of SUMMARYOBSERVATION,
BLOCK_OBSERVATION,  GENERAL_OBSERVATION or HISTORY_OBSERVATION.</p>
<p>The submitted string can contain so-called observation subunits
within curly braces.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – String with observation data to parse.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parsed observation data. Data inside curly braces are
returned in nested dicts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.parse_subobservation_args">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">parse_subobservation_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.parse_subobservation_args" title="Permalink to this definition"></a></dt>
<dd><p>Parse the key=value arguments given to an observation sub-unit</p>
<p>This is semicolon-separated list of key-values, optionally enclosed in curly
braces. There should not be curly braces inside this data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – String to parse.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parsed data. Strings are converted to numerical if possible.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.remove_enclosing_curly_braces">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">remove_enclosing_curly_braces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.remove_enclosing_curly_braces" title="Permalink to this definition"></a></dt>
<dd><p>Removes enclosing curly braces around a string, permitting
whitespace at start and end, and also a trailing semicolon after
the curly brace end</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.resinsight_df2df">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">resinsight_df2df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ri_dframe</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.resinsight_df2df" title="Permalink to this definition"></a></dt>
<dd><p>Convert a ResInsight observation dataframe (as it is represented on
disk) to the internal dataframe representation of observations.</p>
<p>This is the reverse of writers.df2resinsight_df()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dframe</strong> (<em>pd.DataFrame</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.smrydictlist2df">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">smrydictlist2df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smrylist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.smrydictlist2df" title="Permalink to this definition"></a></dt>
<dd><p>Parse a list structure (subpart of yaml syntax) of summary observations
into  dataframe format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blocklist</strong> (<em>list</em>) – List of dictionaries with summary observations</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="subscript.fmuobs.parsers.split_by_sep_in_masked_string">
<span class="sig-prename descclassname"><span class="pre">subscript.fmuobs.parsers.</span></span><span class="sig-name descname"><span class="pre">split_by_sep_in_masked_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masked_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">';'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#subscript.fmuobs.parsers.split_by_sep_in_masked_string" title="Permalink to this definition"></a></dt>
<dd><p>Splits a string by a separator, but the separators are searched
for in an auxiliary string, the “masked_string”. This is so in order
to mask out separator characters that should be ignored due to
being enclosed in f.ex. curly braces.</p>
<dl class="simple">
<dt>Splitting::</dt><dd><p>“foo { bar; com}; hei hopp;”</p>
</dd>
</dl>
<p>with a masked string like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;foo XXXXXXXXXXX; hei hopp;&quot;</span>
</pre></div>
</div>
<p>results in two components:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;foo { bar; com}&quot;</span><span class="p">,</span> <span class="s2">&quot;hei hopp&quot;</span><span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The string that should be split</p></li>
<li><p><strong>masked_string</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Same length as first argument, but where
only a subset of the separator characters need to match up.</p></li>
<li><p><strong>sep</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Separator character, defaults to “;”</p></li>
</ul>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p>Each part of the input string. Separator
character is not included</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="subscript.fmuobs.fmuobs.html" class="btn btn-neutral float-left" title="subscript.fmuobs.fmuobs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="subscript.fmuobs.util.html" class="btn btn-neutral float-right" title="subscript.fmuobs.util" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Equinor.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #ff1243;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #474747;
    }
    .wy-side-nav-search > div.version {
      color: white;
    }
  </style>


</body>
</html>